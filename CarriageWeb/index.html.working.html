<!doctype html>
<html class="no-js" lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
	<meta name="description" content="Variclap Site">
    <meta name="keywords" content="Zenjiskan,ZxS,noise">
    <title>Foundation | Welcome</title>
    <link rel="stylesheet" href="css/foundation.css" />
    <link rel="stylesheet" href="css/zs_minimal_css.css" type="text/css"">
    <script src="js/vendor/modernizr.js"></script>
    <script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.9.0/jquery.min.js"></script>
   </head>
  
  <body>
    
    <div class="row">
      <div class="large-12 columns">
        <h1>Variclap</h1>
      </div>
    </div>
    
    <div class="row">
      <div class="large-12 columns">
        <canvas id="boxCoding" data-processing-sources="js/processing/boxCoding.pde">
          <!-- Note: you can put any alternative content here. -->
        </canvas>

        <noscript>
            <div id="backgroundNoJS"><div>
            <div id="browserError"><br>Enable JavaScript to fully visualize this website</div>
        </noscript>
      </div>
    </div>

    <div class="row">
      <div class="large-12 columns">
	  	<div id="zsPlayer">
            <div class="sc-player">
              <a></a>
            </div>
        </div>
      <button onclick="playTracks(['bot', 'silverk'], 80, true)">TEST, 80% volume, repeat</button>
      </div>
    </div>     

	<div id="coordinates">
		<input type="textfield" id="sentence"/>
	</div>

    <script src="js/vendor/jquery.js"></script>
    <script src="js/foundation.min.js"></script>
    <script>
      $(document).foundation();
    </script>
    <!-- <script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.9.0/jquery.min.js"></script> -->
    <script type="text/javascript" src="js/soundcloud.player.api.js"></script>
    <script type="text/javascript" src="js/sc-player.js"></script>
    <script type="text/javascript" src="js/zsPlayer.js"></script>
    <script type="text/javascript" src="js/processing/processing.js"></script>
    <script type="text/javascript">
// 	window.onload = function init(){
//       function getProcessingSketchId () { return 'boxCoding'; }
//       var processingInstance = Processing.getElementById('boxCoding');
//     	}
		var bound = false;

		function bindJavascript() {
			var pjs = Processing.getInstanceById('boxCoding');
			if(pjs!=null) {
				pjs.bindJavascript(this);
				bound = true; }
			if(!bound) setTimeout(bindJavascript, 250); }

		bindJavascript();

		function showRequest(sentence) {
			document.getElementById('sentence').value = sentence;
			var songs = sentence.split(" ");
			console.log(songs);
			var songList = [];
			var repeat = false;
			var shuffle = false;
			var volume = 70;
			songs.forEach(function(entry) {
    			console.log(entry);
				switch(entry) {
					case "repeat":
						repeat = true;
						break;
				    case "1":
        				songList.push("bot");
        				break;
    				case "2":
    					songList.push("silverk");
    					break;
    				case "3":
    					songList.push("dgrips");
    					break;
    				case "4":
    					songList.push("burlin");
    					break;
    				case "5":
    					songList.push("fourxx");
    					break;
    				case "all_songs":
		    			songList.push("bot");
    					songList.push("silverk");
	    				songList.push("dgrips");
    					songList.push("burlin");
    					songList.push("fourxx");
    					break;
    				case "shuffle":
    					shuffle = true;
    					break;
    				case "loud":
    					volume = 100;
    					break;
    				default:
    					break;
				}
			});

			console.log(songList);
			playTracks(songList, volume, repeat, shuffle);
		}

// 		function myFunction(){
// 			document.write('sentence');
// 		}
	</script>
    
  </body>
</html>
